{"version":3,"file":"otp-ui.umd.js","sources":["../../../projects/otp-ui/src/lib/otp-ui.service.ts","../../../projects/otp-ui/src/lib/nextfocus.directive.ts","../../../projects/otp-ui/src/lib/numbers-only.directive.ts","../../../projects/otp-ui/src/lib/otp-ui.component.ts","../../../projects/otp-ui/src/lib/otp-ui.component.html","../../../projects/otp-ui/src/lib/otp-ui.module.ts","../../../projects/otp-ui/src/public-api.ts","../../../projects/otp-ui/src/otp-ui.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OtpUiService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[libNextfocus]'\r\n})\r\nexport class NextfocusDirective {\r\n\r\n  constructor() { }\r\n  @HostListener('keyup', ['$event']) onKeyDown(keyboardEvent: KeyboardEvent) {\r\n    const target = keyboardEvent.target as\r\n      | HTMLInputElement\r\n      | HTMLTextAreaElement;\r\n    const prvtarget = keyboardEvent.target as | HTMLInputElement |HTMLTextAreaElement;\r\n  \r\n   const { type } = target;\r\n   let { nextElementSibling } = target;\r\n    let { previousElementSibling } = prvtarget\r\n\r\n    if(keyboardEvent.key === 'ArrowLeft'){\r\n      try{\r\n        (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n      return;\r\n      }\r\n      catch{\r\n        return\r\n      }\r\n    }\r\n    if(keyboardEvent.key === 'Tab'){\r\n      try{\r\n        (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n      return;\r\n      }\r\n      catch{\r\n        return\r\n      }\r\n    }\r\n   \r\n    if (!target || target.maxLength !== target.value.length) {\r\n      if(keyboardEvent.key === 'Backspace'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n        \r\n      }\r\n      else if(keyboardEvent.key === 'ArrowLeft'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      else if(keyboardEvent.key === 'ArrowRight'){\r\n        try{\r\n          (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      else if(keyboardEvent.key === 'Delete'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      return\r\n    }\r\n\r\n    keyboardEvent.preventDefault();\r\n\r\n    while (nextElementSibling) {\r\n     if(keyboardEvent.key === 'ArrowRight' || keyboardEvent.key === 'Tab'){\r\n       try{\r\n        (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n       }\r\n       catch{\r\n        return\r\n       }\r\n      \r\n     }\r\n     else if(keyboardEvent.key === 'ArrowLeft' || keyboardEvent.key ==='Backspace'){\r\n       try{\r\n        (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n       }\r\n      catch{\r\n        console.log(\"catch\")\r\n        return;\r\n      }\r\n     }\r\n      if ((nextElementSibling as HTMLInputElement | HTMLTextAreaElement).type === type) {\r\n        try{\r\n          (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n          return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n       \r\n      }\r\n      nextElementSibling = nextElementSibling?.nextElementSibling;\r\n     \r\n    }\r\n  }\r\n\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[libNumbersOnly]'\r\n})\r\nexport class NumbersOnlyDirective {\r\n\r\n  constructor() { }\r\n  @HostListener('keydown', ['$event'])\r\n  onKeyDown(e: KeyboardEvent) {\r\n    if (e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {\r\n      e.preventDefault();\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'lib-otp-ui',\r\n  templateUrl: './otp-ui.component.html',\r\n  styleUrls: ['./otp-ui.component.scss']\r\n})\r\nexport class OtpUiComponent implements OnInit {\r\n\r\n  @Input()\r\n  otp?: any\r\n\r\n  //mandatary\r\n  otp_title: any;\r\n  otp_subtitle: any;\r\n  length: any;\r\n  buttonText: any;\r\n\r\n  //styles\r\n  backgroundColor: any;\r\n  buttonColor: any;\r\n  buttonTextColor: any;\r\n  head_color: any;\r\n  sub_head_color: any\r\n  cardWidth: any;\r\n\r\n  @Output() otpSent: EventEmitter<any> = new EventEmitter;\r\n\r\n  loginForm!: FormGroup;\r\n\r\n  arr: any = []\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n    //mandatory initialisation\r\n    this.otp_title = (this.otp.otp_title) ? this.otp.otp_title : \"Enter the OTP\";\r\n    this.otp_subtitle = (this.otp.otp_subtitle) ? this.otp.otp_subtitle : \"OTP will be sent to your registered mobile number, Please verify\";\r\n    this.buttonText = (this.otp.buttonText) ? this.otp.buttonText : \"Validate OTP\";\r\n    this.length = (this.otp?.length > 3) ? this.otp.length : 4;\r\n    this.backgroundColor = this.otp?.styles?.backgroundColor;\r\n    this.buttonColor = this.otp?.styles?.buttonColor;\r\n    this.cardWidth = (this.otp?.styles?.cardWidth > '40%') ? this.otp?.styles?.cardWidth: '50%';\r\n    this.buttonTextColor = this.otp?.styles?.buttonTextColor;\r\n    this.head_color = this.otp?.styles?.head_color;\r\n    this.sub_head_color = this.otp?.styles?.sub_head_color;\r\n    this.loginForm = new FormGroup({})\r\n    for (let i = 0; i < this.length; i++) {\r\n      this.arr.push(this.getFormConntrol(i));\r\n      this.loginForm.addControl(this.getFormConntrol(i), new FormControl('', Validators.required))\r\n    }\r\n  }\r\n\r\n\r\n  getFormConntrol(index: number) {\r\n    return `crtl${index}`;\r\n  }\r\n  sublogin() {\r\n    this.otpSent.emit(this.loginForm.value)\r\n  }\r\n\r\n}\r\n","<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"\r\n  integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\r\n<div class=\"d-flex justify-content-center\">\r\n  <div class=\"card\" [style.width]=\"cardWidth\">\r\n    <div class=\"card-body\" [style.backgroundColor]=\"backgroundColor\">\r\n      <h4 class=\"card-title d-flex justify-content-center\" [style.color]=\"head_color\">{{otp_title}}</h4>\r\n      <h6 class=\"d-flex justify-content-center\" [style.color]=\"sub_head_color\">{{otp_subtitle}}</h6>\r\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"sublogin()\">\r\n        <div class=\"inputDiv d-flex justify-content-center\">\r\n          <ng-container *ngFor=\"let item of arr;\" class=\"inloop\">\r\n            <input class=\"inputClass\" maxlength=\"1\" autofocus [formControlName]=item libNextfocus libNumbersOnly>\r\n          </ng-container>\r\n\r\n        </div>\r\n        <div class=\"btncls d-flex justify-content-center\">\r\n          <button type=\"submit\" class=\"btn\" [style.background-color]=\"buttonColor\" [style.color]=\"buttonTextColor\" [disabled]=loginForm.invalid>{{buttonText}}</button>\r\n      </div> \r\n      </form>\r\n      \r\n    </div>\r\n  </div>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { OtpUiComponent } from './otp-ui.component';\r\nimport { NextfocusDirective } from './nextfocus.directive';\r\nimport { NumbersOnlyDirective } from './numbers-only.directive';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OtpUiComponent,\r\n    NextfocusDirective,\r\n    NumbersOnlyDirective\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    OtpUiComponent\r\n  ]\r\n})\r\nexport class OtpUiModule { }\r\n","/*\r\n * Public API Surface of otp-ui\r\n */\r\n\r\nexport * from './lib/otp-ui.service';\r\nexport * from './lib/otp-ui.component';\r\nexport * from './lib/otp-ui.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","Directive","HostListener","EventEmitter","FormGroup","FormControl","Validators","Component","Input","Output","CommonModule","FormsModule","ReactiveFormsModule","NgModule"],"mappings":"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"}