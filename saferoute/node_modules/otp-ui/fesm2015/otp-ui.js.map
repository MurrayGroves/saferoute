{"version":3,"file":"otp-ui.js","sources":["../../../projects/otp-ui/src/lib/otp-ui.service.ts","../../../projects/otp-ui/src/lib/nextfocus.directive.ts","../../../projects/otp-ui/src/lib/numbers-only.directive.ts","../../../projects/otp-ui/src/lib/otp-ui.component.ts","../../../projects/otp-ui/src/lib/otp-ui.component.html","../../../projects/otp-ui/src/lib/otp-ui.module.ts","../../../projects/otp-ui/src/public-api.ts","../../../projects/otp-ui/src/otp-ui.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OtpUiService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[libNextfocus]'\r\n})\r\nexport class NextfocusDirective {\r\n\r\n  constructor() { }\r\n  @HostListener('keyup', ['$event']) onKeyDown(keyboardEvent: KeyboardEvent) {\r\n    const target = keyboardEvent.target as\r\n      | HTMLInputElement\r\n      | HTMLTextAreaElement;\r\n    const prvtarget = keyboardEvent.target as | HTMLInputElement |HTMLTextAreaElement;\r\n  \r\n   const { type } = target;\r\n   let { nextElementSibling } = target;\r\n    let { previousElementSibling } = prvtarget\r\n\r\n    if(keyboardEvent.key === 'ArrowLeft'){\r\n      try{\r\n        (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n      return;\r\n      }\r\n      catch{\r\n        return\r\n      }\r\n    }\r\n    if(keyboardEvent.key === 'Tab'){\r\n      try{\r\n        (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n      return;\r\n      }\r\n      catch{\r\n        return\r\n      }\r\n    }\r\n   \r\n    if (!target || target.maxLength !== target.value.length) {\r\n      if(keyboardEvent.key === 'Backspace'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n        \r\n      }\r\n      else if(keyboardEvent.key === 'ArrowLeft'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      else if(keyboardEvent.key === 'ArrowRight'){\r\n        try{\r\n          (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      else if(keyboardEvent.key === 'Delete'){\r\n        try{\r\n          (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n      }\r\n      return\r\n    }\r\n\r\n    keyboardEvent.preventDefault();\r\n\r\n    while (nextElementSibling) {\r\n     if(keyboardEvent.key === 'ArrowRight' || keyboardEvent.key === 'Tab'){\r\n       try{\r\n        (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n       }\r\n       catch{\r\n        return\r\n       }\r\n      \r\n     }\r\n     else if(keyboardEvent.key === 'ArrowLeft' || keyboardEvent.key ==='Backspace'){\r\n       try{\r\n        (previousElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n        return;\r\n       }\r\n      catch{\r\n        console.log(\"catch\")\r\n        return;\r\n      }\r\n     }\r\n      if ((nextElementSibling as HTMLInputElement | HTMLTextAreaElement).type === type) {\r\n        try{\r\n          (nextElementSibling as HTMLInputElement | HTMLTextAreaElement).focus();\r\n          return;\r\n        }\r\n        catch{\r\n          return\r\n        }\r\n       \r\n      }\r\n      nextElementSibling = nextElementSibling?.nextElementSibling;\r\n     \r\n    }\r\n  }\r\n\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[libNumbersOnly]'\r\n})\r\nexport class NumbersOnlyDirective {\r\n\r\n  constructor() { }\r\n  @HostListener('keydown', ['$event'])\r\n  onKeyDown(e: KeyboardEvent) {\r\n    if (e.which != 8 && e.which != 0 && e.which < 48 || e.which > 57) {\r\n      e.preventDefault();\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'lib-otp-ui',\r\n  templateUrl: './otp-ui.component.html',\r\n  styleUrls: ['./otp-ui.component.scss']\r\n})\r\nexport class OtpUiComponent implements OnInit {\r\n\r\n  @Input()\r\n  otp?: any\r\n\r\n  //mandatary\r\n  otp_title: any;\r\n  otp_subtitle: any;\r\n  length: any;\r\n  buttonText: any;\r\n\r\n  //styles\r\n  backgroundColor: any;\r\n  buttonColor: any;\r\n  buttonTextColor: any;\r\n  head_color: any;\r\n  sub_head_color: any\r\n  cardWidth: any;\r\n\r\n  @Output() otpSent: EventEmitter<any> = new EventEmitter;\r\n\r\n  loginForm!: FormGroup;\r\n\r\n  arr: any = []\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n    //mandatory initialisation\r\n    this.otp_title = (this.otp.otp_title) ? this.otp.otp_title : \"Enter the OTP\";\r\n    this.otp_subtitle = (this.otp.otp_subtitle) ? this.otp.otp_subtitle : \"OTP will be sent to your registered mobile number, Please verify\";\r\n    this.buttonText = (this.otp.buttonText) ? this.otp.buttonText : \"Validate OTP\";\r\n    this.length = (this.otp?.length > 3) ? this.otp.length : 4;\r\n    this.backgroundColor = this.otp?.styles?.backgroundColor;\r\n    this.buttonColor = this.otp?.styles?.buttonColor;\r\n    this.cardWidth = (this.otp?.styles?.cardWidth > '40%') ? this.otp?.styles?.cardWidth: '50%';\r\n    this.buttonTextColor = this.otp?.styles?.buttonTextColor;\r\n    this.head_color = this.otp?.styles?.head_color;\r\n    this.sub_head_color = this.otp?.styles?.sub_head_color;\r\n    this.loginForm = new FormGroup({})\r\n    for (let i = 0; i < this.length; i++) {\r\n      this.arr.push(this.getFormConntrol(i));\r\n      this.loginForm.addControl(this.getFormConntrol(i), new FormControl('', Validators.required))\r\n    }\r\n  }\r\n\r\n\r\n  getFormConntrol(index: number) {\r\n    return `crtl${index}`;\r\n  }\r\n  sublogin() {\r\n    this.otpSent.emit(this.loginForm.value)\r\n  }\r\n\r\n}\r\n","<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"\r\n  integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\r\n<div class=\"d-flex justify-content-center\">\r\n  <div class=\"card\" [style.width]=\"cardWidth\">\r\n    <div class=\"card-body\" [style.backgroundColor]=\"backgroundColor\">\r\n      <h4 class=\"card-title d-flex justify-content-center\" [style.color]=\"head_color\">{{otp_title}}</h4>\r\n      <h6 class=\"d-flex justify-content-center\" [style.color]=\"sub_head_color\">{{otp_subtitle}}</h6>\r\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"sublogin()\">\r\n        <div class=\"inputDiv d-flex justify-content-center\">\r\n          <ng-container *ngFor=\"let item of arr;\" class=\"inloop\">\r\n            <input class=\"inputClass\" maxlength=\"1\" autofocus [formControlName]=item libNextfocus libNumbersOnly>\r\n          </ng-container>\r\n\r\n        </div>\r\n        <div class=\"btncls d-flex justify-content-center\">\r\n          <button type=\"submit\" class=\"btn\" [style.background-color]=\"buttonColor\" [style.color]=\"buttonTextColor\" [disabled]=loginForm.invalid>{{buttonText}}</button>\r\n      </div> \r\n      </form>\r\n      \r\n    </div>\r\n  </div>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { OtpUiComponent } from './otp-ui.component';\r\nimport { NextfocusDirective } from './nextfocus.directive';\r\nimport { NumbersOnlyDirective } from './numbers-only.directive';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OtpUiComponent,\r\n    NextfocusDirective,\r\n    NumbersOnlyDirective\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    OtpUiComponent\r\n  ]\r\n})\r\nexport class OtpUiModule { }\r\n","/*\r\n * Public API Surface of otp-ui\r\n */\r\n\r\nexport * from './lib/otp-ui.service';\r\nexport * from './lib/otp-ui.component';\r\nexport * from './lib/otp-ui.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}