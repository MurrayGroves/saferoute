{"version":3,"sources":["../src/index.tsx"],"names":["flatten","LocationIcon","FormattedMessage","React","S","defaultEnglishMessages","iconSize","defaultMessages","FromToLocationPicker","label","location","onFromClick","onToClick","setLocation","showIcons","handleFromClick","locationType","reverseGeocode","handleToClick","labelIfAny","Styled"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,MAApB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,OAAOC,KAAP,MAAoC,OAApC;AAEA,OAAO,KAAKC,CAAZ,MAAmB,UAAnB,C,CAEA;;AAGA;AACA,OAAOC,sBAAP,MAAmC,mBAAnC;AAEA,IAAMC,QAAQ,GAAG,OAAjB,C,CAEA;AACA;AACA;AACA;;AACA,IAAMC,eAAuC,GAAGP,OAAO,CAACK,sBAAD,CAAvD;;AAEA,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAuB,OAOU;AAAA,wBANrCC,KAMqC;AAAA,MANrCA,KAMqC,2BAN7B,IAM6B;AAAA,2BALrCC,QAKqC;AAAA,MALrCA,QAKqC,8BAL1B,IAK0B;AAAA,8BAJrCC,WAIqC;AAAA,MAJrCA,WAIqC,iCAJvB,IAIuB;AAAA,4BAHrCC,SAGqC;AAAA,MAHrCA,SAGqC,+BAHzB,IAGyB;AAAA,8BAFrCC,WAEqC;AAAA,MAFrCA,WAEqC,iCAFvB,IAEuB;AAAA,4BADrCC,SACqC;AAAA,MADrCA,SACqC,+BADzB,IACyB;;AACrC,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,QAAIJ,WAAJ,EAAiB;AACfA,MAAAA,WAAW;AACX;AACD;;AACDE,IAAAA,WAAW,CAAC;AACVH,MAAAA,QAAQ,EAARA,QADU;AAEVM,MAAAA,YAAY,EAAE,MAFJ;AAGVC,MAAAA,cAAc,EAAE;AAHN,KAAD,CAAX;AAKD,GAVD;;AAYA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAIN,SAAJ,EAAe;AACbA,MAAAA,SAAS;AACT;AACD;;AACDC,IAAAA,WAAW,CAAC;AACVH,MAAAA,QAAQ,EAARA,QADU;AAEVM,MAAAA,YAAY,EAAE,IAFJ;AAGVC,MAAAA,cAAc,EAAE;AAHN,KAAD,CAAX;AAKD,GAVD;;AAYA,MAAME,UAAU,GAAGV,KAAK,KAAK,IAAV,gBAEjB,iDACE,oBAAC,gBAAD;AACE,IAAA,cAAc,EAAEF,eAAe,CAAC,sCAAD,CADjC;AAEE,IAAA,WAAW,EAAC,yCAFd;AAGE,IAAA,EAAE,EAAC;AAHL,IADF,CAFiB,GAUfE,KAVJ;AAYA,sBACE,0CACGU,UADH,eAEE,oBAAC,CAAD,CAAG,gBAAH,qBACE,oBAAC,CAAD,CAAG,kBAAH,QACGL,SAAS,iBAAI,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,MAAnB;AAA0B,IAAA,IAAI,EAAER;AAAhC,IADhB,eAEE,oBAAC,CAAD,CAAG,MAAH;AAAU,IAAA,OAAO,EAAES;AAAnB,kBACE,oBAAC,gBAAD;AACE,IAAA,cAAc,EAAER,eAAe,CAAC,iCAAD,CADjC;AAEE,IAAA,WAAW,EAAC,0CAFd;AAGE,IAAA,EAAE,EAAC;AAHL,IADF,CAFF,CADF,eAWE,oBAAC,CAAD,CAAG,kBAAH,QACGO,SAAS,iBAAI,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,IAAnB;AAAwB,IAAA,IAAI,EAAER;AAA9B,IADhB,eAEE,oBAAC,CAAD,CAAG,MAAH;AAAU,IAAA,OAAO,EAAEY;AAAnB,kBACE,oBAAC,gBAAD;AACE,IAAA,cAAc,EAAEX,eAAe,CAAC,+BAAD,CADjC;AAEE,IAAA,WAAW,EAAC,wCAFd;AAGE,IAAA,EAAE,EAAC;AAHL,IADF,CAFF,CAXF,CAFF,CADF;AA2BD,CAvED;;AAyEA,eAAeC,oBAAf,C,CAEA;;AACA,SAASJ,CAAC,IAAIgB,MAAd","sourcesContent":["import flatten from \"flat\";\nimport LocationIcon from \"@opentripplanner/location-icon\";\nimport { FormattedMessage } from \"react-intl\";\nimport React, { ReactElement } from \"react\";\n\nimport * as S from \"./styled\";\n\n// eslint-disable-next-line prettier/prettier\nimport type { FromToPickerProps } from \"./types\";\n\n// Load the default messages.\nimport defaultEnglishMessages from \"../i18n/en-US.yml\";\n\nconst iconSize = \"0.9em\";\n\n// HACK: We should flatten the messages loaded above because\n// the YAML loaders behave differently between webpack and our version of jest:\n// - the yaml loader for webpack returns a nested object,\n// - the yaml loader for jest returns messages with flattened ids.\nconst defaultMessages: Record<string, string> = flatten(defaultEnglishMessages);\n\nconst FromToLocationPicker = ({\n  label = null,\n  location = null,\n  onFromClick = null,\n  onToClick = null,\n  setLocation = null,\n  showIcons = true\n}: FromToPickerProps): ReactElement => {\n  const handleFromClick = () => {\n    if (onFromClick) {\n      onFromClick();\n      return;\n    }\n    setLocation({\n      location,\n      locationType: \"from\",\n      reverseGeocode: false\n    });\n  };\n\n  const handleToClick = () => {\n    if (onToClick) {\n      onToClick();\n      return;\n    }\n    setLocation({\n      location,\n      locationType: \"to\",\n      reverseGeocode: false\n    });\n  };\n\n  const labelIfAny = label === true\n    ? (\n    <strong>\n      <FormattedMessage\n        defaultMessage={defaultMessages[\"otpUi.FromToLocationPicker.planATrip\"]}\n        description=\"Label to prompt the user to plan a trip\"\n        id=\"otpUi.FromToLocationPicker.planATrip\"\n      />\n    </strong>\n    )\n    : label\n\n  return (\n    <>\n      {labelIfAny}\n      <S.FromToPickerSpan>\n        <S.LocationPickerSpan>\n          {showIcons && <LocationIcon type=\"from\" size={iconSize} />}\n          <S.Button onClick={handleFromClick}>\n            <FormattedMessage\n              defaultMessage={defaultMessages[\"otpUi.FromToLocationPicker.from\"]}\n              description=\"Text for the 'from' button of the picker\"\n              id=\"otpUi.FromToLocationPicker.from\"\n            />\n          </S.Button>\n        </S.LocationPickerSpan>\n        <S.LocationPickerSpan>\n          {showIcons && <LocationIcon type=\"to\" size={iconSize} />}\n          <S.Button onClick={handleToClick}>\n            <FormattedMessage\n              defaultMessage={defaultMessages[\"otpUi.FromToLocationPicker.to\"]}\n              description=\"Text for the 'to' button of the picker\"\n              id=\"otpUi.FromToLocationPicker.to\"\n            />\n          </S.Button>\n        </S.LocationPickerSpan>\n      </S.FromToPickerSpan>\n    </>\n  );\n};\n\nexport default FromToLocationPicker;\n\n// Rename styled components for export.\nexport { S as Styled };\n"],"file":"index.js"}