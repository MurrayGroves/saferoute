{"version":3,"sources":["../src/util.ts"],"names":["getFitBoundsPadding","map","paddingRatio","canvas","getCanvas","pixelRatio","getPixelRatio","horizPadding","width","vertPadding","height","bottom","left","right","top","fitMapBounds","bounds","fitBounds","duration","padding","triggerRepaint"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,mBAAT,CACLC,GADK,EAGW;AAAA,MADhBC,YACgB,uEADD,GACC;AAChB,MAAMC,MAAM,GAAGF,GAAG,CAACG,SAAJ,EAAf,CADgB,CAEhB;;AACA,MAAMC,UAAU,GAAGJ,GAAG,CAACK,aAAJ,EAAnB;AACA,MAAMC,YAAY,GAAIJ,MAAM,CAACK,KAAP,GAAeN,YAAhB,GAAgCG,UAArD;AACA,MAAMI,WAAW,GAAIN,MAAM,CAACO,MAAP,GAAgBR,YAAjB,GAAiCG,UAArD;AAEA,SAAO;AACLM,IAAAA,MAAM,EAAEF,WADH;AAELG,IAAAA,IAAI,EAAEL,YAFD;AAGLM,IAAAA,KAAK,EAAEN,YAHF;AAILO,IAAAA,GAAG,EAAEL;AAJA,GAAP;AAMD;AAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,YAAT,CAAsBd,GAAtB,EAAmCe,MAAnC,EAAmE;AACxEf,EAAAA,GAAG,CAACgB,SAAJ,CAAcD,MAAd,EAAsB;AACpBE,IAAAA,QAAQ,EAAE,GADU;AAEpBC,IAAAA,OAAO,EAAEnB,mBAAmB,CAACC,GAAD;AAFR,GAAtB,EADwE,CAMxE;;AACAA,EAAAA,GAAG,CAACmB,cAAJ;AACD","sourcesContent":["import { LngLatBoundsLike, MapRef, PaddingOptions } from \"react-map-gl\";\n\n/**\n * Computes padding dimensions based on roughly 1/20 of the map's canvas dimensions\n * (under a 2:1 canvas-to-screen pixel ratio).\n * @param map The map where the bounds fitting is to occur.\n * @param paddingRatio The ratio of the canvas dimensions set aside for padding.\n * @returns The object with the computed padding dimensions.\n */\nexport function getFitBoundsPadding(\n  map: MapRef,\n  paddingRatio = 0.1\n): PaddingOptions {\n  const canvas = map.getCanvas();\n  // @ts-expect-error getPixelRatio not defined in MapRef type.\n  const pixelRatio = map.getPixelRatio();\n  const horizPadding = (canvas.width * paddingRatio) / pixelRatio;\n  const vertPadding = (canvas.height * paddingRatio) / pixelRatio;\n\n  return {\n    bottom: vertPadding,\n    left: horizPadding,\n    right: horizPadding,\n    top: vertPadding\n  };\n}\n\n/**\n * Helper function used in several packages to fit a map to the given bounds,\n * using padding based on map canvas size.\n * @param map The map where the bounds fitting is to occur.\n * @param bounds The bounds to be fit.\n */\nexport function fitMapBounds(map: MapRef, bounds: LngLatBoundsLike): void {\n  map.fitBounds(bounds, {\n    duration: 500,\n    padding: getFitBoundsPadding(map)\n  });\n\n  // Often times, the map is not updated right away, so try to force an update.\n  map.triggerRepaint();\n}\n"],"file":"util.js"}